
<div class="container-fluid">
  <div id="myAlbumContainer" class="row" *ngIf="isLoggedIn">
    <div id="albumList" class="col-sm-4">
      <table class="table table-dark table-hover">
        <thead>
          <tr>
            <th>Mes Albums</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor = "let album of albumList">
            <td>{{ album[1] }}</td>
            <td>
              <button id="modifyAlbumBtn" class="btn edit btn-primary" (click)="loadModAlbum(album[0])" >Modifier</button>
            </td>
          </tr>

        </tbody>
      </table>
        <button id="createAlbumBtn"class="btn add btn-success" (click)="createAlbum()">Créer nouvel album</button>
    </div>

    <!--Modification d'albums-->
    <div id="standSettings" class="col-sm-8" *ngIf="actionSelected && albumSelected">
      <h1 style="padding-top: 10px;"> Outil modification </h1>
      <div class="row">
        <div class="col-md-10">
          <div class="settingsBox">
            <div class="form" >
              <label for="nameForm" style="color: white;">Nom</label>
              <textarea [(ngModel)]="modAlbumNom" class="form-control" rows="1">{{ modAlbumNom }}</textarea>
            </div>
          </div>
        </div>
        <div class="col-md-2">
          <div class="settingsBox">
            <div class="form" >
              <label for="nameForm" style="color: white;">ID: {{ modAlbumId }}</label>

            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="settingsBox">
            <div class="form" >
              <label for="descriptionForm" style="color: white;">Description</label>
              <textarea [(ngModel)]="modAlbumDesc" class="form-control" rows="6">{{ modAlbumDesc }}</textarea>
              </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="settingsBox">
            <div class="form" >
              <label for="descriptionForm" style="color: white;">Lieu</label>
              <textarea [(ngModel)]="modAlbumLieu" class="form-control" rows="1">{{ modAlbumLieu }}</textarea>
              </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6">
          <button class="btn cancel btn-danger" style="float: left;" (click)="deleteAlbum(modAlbumId)">Supprimer l'album</button>
        </div>
        <div class="col-md-6">
          <!--Bouton de sauvegarde des données dans la base de données-->
              <button *ngIf="!saveClicked; else save_btn_clicked" class="btn save btn-primary" id="updateDBbutton" style="float: right;" (click)="saveModified(modAlbumId, modAlbumNom, modAlbumDesc, modAlbumLieu)">Enregistrer les modifications</button>
              <button *ngIf="saveClicked && !saveError && !saved" class="btn btn-secondary" id="updateDBbutton" style="float: right;">Sauvegarde...</button>
              <ng-template #save_btn_clicked>
                <button *ngIf="saveError; else data_saved" class="btn btn-danger" id="updateDBbutton" style="float: right;" (click)="saveModified(modAlbumId, modAlbumNom, modAlbumDesc, modAlbumLieu)">Erreur</button>
              </ng-template>
              <ng-template #data_saved>
                <button *ngIf="saved && !saveError" class="btn btn-success" id="updateDBbutton" style="float: right;" (click)="saveModified(modAlbumId, modAlbumNom, modAlbumDesc, modAlbumLieu)">Enregistré</button>
              </ng-template>
        </div>
      </div>
    </div>

    <!--Creation d'albums-->
    <div id="standSettings" class="col-sm-8" *ngIf="actionSelected && creatingAlbum">
      <h1 style="padding-top: 10px;"> Création d'album </h1>
      <div class="row">
        <div class="col-md-6">
          <div class="settingsBox">
            <div class="form" >
              <label for="nameForm" style="color: white;">Nom</label>
              <textarea [(ngModel)]="nomAlbum" class="form-control" rows="1">{{ nomAlbum }}</textarea>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="settingsBox">
            <div class="form" >
              <label for="descriptionForm" style="color: white;">Lieu</label>
              <textarea [(ngModel)]="lieuAlbum" class="form-control" rows="1">{{ lieuAlbum }}</textarea>
              </div>
          </div>
        </div>

      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="settingsBox">
            <div class="form" >
              <label for="descriptionForm" style="color: white;">Description</label>
              <textarea [(ngModel)]="descriptionAlbum" class="form-control" rows="6">{{ descriptionAlbum }}</textarea>
              </div>
          </div>
        </div>
      </div>
      <div class="row">

      </div>

      <!--Bouton de sauvegarde des données dans la base de données-->
      <div class="row">
        <div class="col-md-12">
          <button *ngIf="!saveClicked; else save_btn_clicked" class="btn btn-primary" id="updateDBbutton" style="float: right;" (click)="saveNewAlbum(newAlbumInfo)">Enregistrer les modifications</button>
          <button *ngIf="saveClicked && !saveError && !saved" class="btn btn-secondary" id="updateDBbutton" style="float: right;">Sauvegarde...</button>
          <ng-template #save_btn_clicked>
            <button *ngIf="saveError; else data_saved" class="btn btn-danger" id="updateDBbutton" style="float: right;" (click)="saveNewAlbum(newAlbumInfo)">Erreur</button>
          </ng-template>
          <ng-template #data_saved>
            <button *ngIf="saved && !saveError" class="btn btn-success" id="updateDBbutton" style="float: right;" (click)="saveNewAlbum(newAlbumInfo)">Enregistré</button>
          </ng-template>
        </div>
      </div>



      <!-- Messages
      <div class="row">
        <h1 class="col-sm-12">Messages reçus</h1>
        <div id="messageList" class="col-sm-12">
          <table class="messageList table table-dark table-hover ">
            <thead>
              <tr>
                <th>Messages</th>
              </tr>
            </thead>
            <tbody>
              <tr class="messageObject" *ngIf="!messageList[0]">
                <td class="messageObject_text">
                  Il n'y a aucun message à afficher
                </td>
              </tr>
              <tr class="messageObject" *ngFor = "let message of messageList">
                <td *ngIf="message" class="messageObject_text">
                  De: {{message.prenom}} {{ message.nom }}<br>
                  Email: {{message.email}}<br>
                  Tél.: {{message.numeroTel}}<br>
                  Message: {{message.message}}
                </td>
                <td class="messageObject" *ngIf="!message">Il n'y a aucun message à afficher</td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
-->
    </div>
  <div id="standSettings" class="col-sm-8" *ngIf="!actionSelected">
    <h3 style="padding-top: 25%; text-align: center; font-style: italic;">"Veuillez selectionner un album ou créez en un"</h3>
  </div>

